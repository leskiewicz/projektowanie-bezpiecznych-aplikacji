@startuml

actor Client
participant "OAuth Server" as OAuth
participant "API Server" as API
participant "Database" as DB

alt Valid client credentials
    Client -> OAuth: /oauth/token
    OAuth -> Client: token response (ex. JWT)
else Invalid client credentials
    Client -> OAuth: /oauth/token
    OAuth -> Client: 401 Unauthorized
end

activate OAuth
Client -> API: GET /resource/{id}
API -> OAuth: verify token
alt Valid token
    OAuth -> API: valid token
    alt Data exists
        API -> DB: READ
        DB -> API: RESOURCE
        API -> Client: 200 OK + resource
    else Invalid data
        API -> Client: 204 Not Found
    end
else Invalid token
    OAuth -> API: invalid token
    API -> Client: 401 Unauthorized
end
deactivate OAuth

@enduml